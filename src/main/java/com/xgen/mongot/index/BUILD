load("//bazel/java:package.bzl", "java_library")

java_library(
    name = "index",
    srcs = [
        "AggregatedIndexMetrics.java",
        "BatchProducer.java",
        "CountMergingBatchProducer.java",
        "CountMetaBatchProducer.java",
        "CountResult.java",
        "DocCounts.java",
        "DocsExceededLimitsException.java",
        "DocumentEvent.java",
        "DocumentMetadata.java",
        "DynamicFeatureFlagsMetricsRecorder.java",
        "EmptyExplainInformation.java",
        "EncodedUserData.java",
        "ExceededLimitsException.java",
        "ExplainInformation.java",
        "FacetBucket.java",
        "FacetInfo.java",
        "FieldExceededLimitsException.java",
        "Index.java",
        "IndexClosedException.java",
        "IndexDetailedStatus.java",
        "IndexFactory.java",
        "IndexGeneration.java",
        "IndexGenerationFactory.java",
        "IndexGenerationMetrics.java",
        "IndexInformation.java",
        "IndexMetricValuesSupplier.java",
        "IndexMetrics.java",
        "IndexMetricsUpdater.java",
        "IndexReader.java",
        "IndexTypeData.java",
        "IndexUnavailableException.java",
        "IndexWriter.java",
        "InitializedIndex.java",
        "InitializedSearchIndex.java",
        "InitializedVectorIndex.java",
        "IntermediateFacetBucket.java",
        "MetaResults.java",
        "MeteredBatchProducer.java",
        "MeteredIndexWriter.java",
        "MeteredSearchIndexReader.java",
        "MeteredVectorIndexReader.java",
        "QueryMetricsRecorder.java",
        "ReaderClosedException.java",
        "ReplicationOpTimeInfo.java",
        "ResultFactory.java",
        "ScoreDetails.java",
        "SearchHighlight.java",
        "SearchHighlightText.java",
        "SearchIndex.java",
        "SearchIndexReader.java",
        "SearchResult.java",
        "SearchSortValues.java",
        "Variables.java",
        "VectorIndex.java",
        "VectorIndexReader.java",
        "VectorSearchResult.java",
        "WriterClosedException.java",
    ],
    visibility = ["//visibility:public"],
    exports = [
        "//src/main/java/com/xgen/mongot/index/definition",
        "//src/main/java/com/xgen/mongot/index/lucene/field",
        "//src/main/java/com/xgen/mongot/index/query/operators",
        "//src/main/java/com/xgen/mongot/index/query/operators/mql",
        "//src/main/java/com/xgen/mongot/index/status",
        "//src/main/java/com/xgen/mongot/index/synonym",
        "//src/main/java/com/xgen/mongot/index/version",
        "//src/main/java/com/xgen/mongot/metrics",
        "//src/main/java/com/xgen/mongot/util",
        "//src/main/java/com/xgen/mongot/util/bson",
        "//src/main/java/com/xgen/mongot/util/bson/parser",
        "@maven//:io_micrometer_micrometer_core",
        "@maven//:io_opentelemetry_opentelemetry_context",
        "@maven//:org_apache_lucene_lucene_core",
        "@maven//:org_mongodb_bson",
    ],
    deps = [
        "//src/main/java/com/xgen/mongot/cursor/batch",
        "//src/main/java/com/xgen/mongot/index/analyzer",
        "//src/main/java/com/xgen/mongot/index/definition",
        "//src/main/java/com/xgen/mongot/index/lucene/explain/tracing",
        "//src/main/java/com/xgen/mongot/index/lucene/field",
        "//src/main/java/com/xgen/mongot/index/path/string",
        "//src/main/java/com/xgen/mongot/index/query",
        "//src/main/java/com/xgen/mongot/index/query/collectors",
        "//src/main/java/com/xgen/mongot/index/query/operators",
        "//src/main/java/com/xgen/mongot/index/query/operators/mql",
        "//src/main/java/com/xgen/mongot/index/query/scores",
        "//src/main/java/com/xgen/mongot/index/query/sort",
        "//src/main/java/com/xgen/mongot/index/status",
        "//src/main/java/com/xgen/mongot/index/synonym",
        "//src/main/java/com/xgen/mongot/index/version",
        "//src/main/java/com/xgen/mongot/metrics",
        "//src/main/java/com/xgen/mongot/metrics/micrometer",
        "//src/main/java/com/xgen/mongot/util",
        "//src/main/java/com/xgen/mongot/util/bson",
        "//src/main/java/com/xgen/mongot/util/bson/parser",
        "@maven//:com_google_errorprone_error_prone_annotations",
        "@maven//:com_google_flogger_flogger",
        "@maven//:com_google_guava_guava",
        "@maven//:io_micrometer_micrometer_core",
        "@maven//:io_opentelemetry_opentelemetry_context",
        "@maven//:org_apache_lucene_lucene_core",
        "@maven//:org_jetbrains_annotations",
        "@maven//:org_mongodb_bson",
    ],
)
